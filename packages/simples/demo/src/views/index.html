<!doctype html>
<html>

<head>
    <meta charset=" utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="viewport" content="width = device-width, minimal-ui, initial-scale = 1, user-scalable = no" />
    <meta name="apple-mobile-web-app-title" content="ISM">
    <title>Test</title>
    <script src="jquery.min.js"></script>
</head>

<body>
    <div>
        <p>This is type json api test</p>

        <div>
            <button id="reqA">Get Test</button>
            <button id="postt">Post Test</button>
            <button id="query">query Test</button>
        </div>
        <code id="repA"></code>

        <form method="get" action="goto/index2">
            <input type="submit" value="（get, server redirect, will failed）服务器挑战测试"></input>
        </form>

        <form method="post" action="goto/index2">
            <input type="submit" value="（post, server redirect）服务器挑战测试"></input>
        </form>
    </div>
    <script>
        $(function () {

            $('#reqA').click(function () {
                $.get('/users/zh', function (data) {
                    console.log('respone data:', data);
                    $('#repA').text(JSON.stringify(data));
                });
            });

            $('#postt').click(function () {
                $.post('/users/add', { name: 'test', sex: 'man', age: 500 }, (data) => {
                    console.log('post respone data:', data);
                    $('#repA').text(JSON.stringify(data));
                });
            });

            $('#query').click(function () {
                $.get('/users/query', {key: 'zhang', age: 30, role: 'student' }, function (data) {
                    console.log('respone data:', data);
                    $('#repA').text(JSON.stringify(data));
                });
            });
            
        });
    </script>
</body>

</html>